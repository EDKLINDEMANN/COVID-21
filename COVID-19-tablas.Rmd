---
title: "Tablas COVID-19"
date: "`r Sys.Date()`"

output:
  html_document:
     code_folding: hide
     toc: true
     toc_float: true
  pdf_document: 
     toc: true
---

```{r rmd, include=FALSE}
# Este documento permite crear un informe empleando Markdown y `R`.
# Markdown permite la creación de páginas web (y muchos otros tipos de documentos) a partir de 
# archivos de texto de forma muy sencilla (tiene unas reglas sintácticas muy simples) y rápida.
# R-Markdown es recomendable para difundir análisis realizados con `R` en distintos formatos.
# Para más detalles ver <http://rmarkdown.rstudio.com> o 
# <https://rubenfcasal.github.io/bookdown_intro/rmarkdown.html>.
#
# Este informe puede ser creado (y mostrado) con el siguiente comando:
# browseURL(url = rmarkdown::render('COVID-19-tablas.Rmd'))
# En RStudio es suficiente con pulsar el botón 'Knit' de la barra de herramientas.
```

Nota: El código puede ser de utilidad para entender como trabajar con estos datos, 
pulsar en [Code] para mostrar (este informe fué generado a partir de [COVID-19-tablas.Rmd](COVID-19-tablas.Rmd)).

## Tabla por edad y sexo

```{r class.source="fold-show", results = "asis"}
load("edadsexo.RData")
date <- attr(edadsexo, "date")
file <- attr(edadsexo, "file")

cat("\n\n Fecha:", date, "\n\n File: [", file, "](", file, ")")
```

Nota: La siguiente tabla fué generada con la función `datatable()` del paquete [DT](https://rstudio.github.io/DT).
Por defecto se muestran las primeras filas, pulsar en el índice de páginas (inferior) para cambiar. Se puede ordenar por una columna pulsando en las flechas al lado derecho del normbre. Se pueden buscar valores (cuadro de búsqueda, en la parte superior derecha) y filtrar los valores (pulsar en el cuadro de filtro debajo del nombre de cada variable).

```{r message=FALSE, warning=FALSE}
library(DT)

datatable(edadsexo, filter = 'top', options = list(
  pageLength = 11
))
```

## Tabla de evolución diaria de casos por CCAA (datos ISCIII)

```{r class.source="fold-show", results = "asis"}
load("acumulados.RData")
cat("\n", attr(acumulados, "note"), "\n\n Web:", attr(acumulados, "url"))
```

```{r }
datatable(acumulados, filter = 'top', options = list(
  pageLength = 19, autoWidth = TRUE
))
```



## Tablas por fecha y CCAA (archivos MSCBS)

```{r class.source="fold-show", results = "asis"}
load("COVID-19.RData")
# "files"  "tables"

dates <- names(tables)
for (i in seq_along(files)) {
  cat("\n\n### ", dates[i])
  cat("\n\n File: [", files[i], "](", files[i], ")")
  if (!is.null(tables[[i]])) print(knitr::kable(tables[[i]]))
}
```

